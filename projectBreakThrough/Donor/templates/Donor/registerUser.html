{% extends 'Donor/main.html' %}
{% block content %}

<div class="container min-vh-100 d-flex align-items-center justify-content-center py-5">
  <div class="col-md-7 col-lg-5">

    <div class="card shadow-lg border-0 rounded-4">
      <div class="card-body p-4 p-md-5">

        <h2 class="text-center fw-bold mb-4 textpink">Create Account</h2>

        <form action="" method="POST">
          {% csrf_token %}

          
          {% for field in form %}
            {% if field.name != "password1" and field.name != "password2" %}
              <div class="mb-3">
                <label class="form-label fw-semibold">{{ field.label }}</label>
                {{ field }}

             {% if field.name == "username" %}
  <div class="username-help-box mt-3 p-3 rounded-4">
    <p class="fw-semibold mb-2 textpink">Username must:</p>
    <ul class="list-unstyled mb-0">
      <li>• Be 150 characters or fewer</li>
      <li>• Use letters, numbers and @/./+/-/_ only</li>
    </ul>
  </div>
{% elif field.help_text %}
  <div class="form-text small text-muted">
    {{ field.help_text }}
  </div>
{% endif %}


                {% if field.errors %}
                  <div class="text-danger small">
                    {{ field.errors }}
                  </div>
                {% endif %}
              </div>
            {% endif %}


          {% endfor %}

          <div class="mb-3">
            <label class="form-label fw-bold">Password</label>
            {{ form.password1 }}

            <div class="password-help-box mt-3 p-3 rounded-4">
              <p class="fw-semibold mb-2 textpink">Password must:</p>

              <ul class="list-unstyled mb-0">
                <li id="length" class="text-muted">• Be at least 8 characters</li>
                <li id="similar" class="text-muted">• Not be similar to personal info</li>
                <li id="common" class="text-muted">• Not be a common password</li>
                <li id="numeric" class="text-muted">• Not be only numbers</li>
              </ul>
            </div>

            {% if form.password1.errors %}
              <div class="text-danger small mt-2">
                {{ form.password1.errors }}
              </div>
            {% endif %}
          </div>

          
          <div class="mb-4">
            <label class="form-label fw-bold">Confirm Password</label>
            {{ form.password2 }}

            {% if form.password2.errors %}
              <div class="text-danger small mt-2">
                {{ form.password2.errors }}
              </div>
            {% endif %}
          </div>

          <button type="submit" class="btn bgpink w-100 py-2 rounded-pill mt-4">
            REGISTER
          </button>
        </form>

        <p class="text-center mt-4">
          Already have an account?
          <a href="{% url 'Donorlogin' %}" class="textpink text-decoration-none fw-semibold">
            Log In
          </a>
        </p>

      </div>
    </div>

  </div>
</div>

{% endblock %}
